// Hot-loop benchmark for JIT. Run with --jit and a threshold to see speedup.
fn hot(int n) -> int {
    int i = 0;
    int acc = 0;
    while (i < n) {
        acc = acc + (i % 97);
        i = i + 1;
    }
    return acc;
}

fn cold(int x) -> int {
    return x + 1;
}

fn main() -> int {
    int start = time();
    int i = 0;
    int total = 0;
    while (i < 200) {
        total = total + hot(50000);
        i = i + 1;
    }
    int end = time();

    int coldResult = cold(1);

    print("elapsed_ms:");
    print(end - start);
    print("total:");
    print(total);
    print("cold:");
    print(coldResult);

    return total + coldResult;
}
